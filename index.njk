---
layout: default
pagination:
  data: collections.posts
  size: 9
  alias: posts
---

{% include "hero.njk" %}

<section class="pb-16">
  <!--
    Using CSS Grid for strict left-to-right, top-to-bottom ordering.
    Each card will take up equal height in the row to maintain alignment.
  -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    {% for post in posts %}
    <div class="group cursor-pointer flex flex-col h-full" onclick="window.location.href='{{ post.url }}'">
      <div class="bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-100 hover:border-dale-pink/30 flex flex-col h-full">
        <div class="overflow-hidden relative flex-shrink-0" style="aspect-ratio: 16/9;">
          {% if post.data.feature_image or post.data.thumbnail_image %}
            {% set image_src = post.data.feature_image or post.data.thumbnail_image %}
            {% set image_cls = "w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 ease-out grayscale-[10%] group-hover:grayscale-0" %}
            {% image image_src, post.data.title, image_cls %}
          {% else %}
          <div class="w-full h-full bg-slate-200 flex items-center justify-center text-slate-400">
            No Image
          </div>
          {% endif %}
          <div class="absolute inset-0 bg-dale-pink/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 mix-blend-multiply pointer-events-none"></div>
        </div>
        <div class="p-6 flex flex-col flex-grow">
          <div class="mb-3 flex items-center gap-2">
            <span class="w-2 h-2 rounded-full bg-dale-pink"></span>
            <span class="font-mono text-xs font-bold uppercase tracking-widest text-dale-pink">
              {% if post.data.tags %}
                {{ post.data.tags | first }}
              {% else %}
                Article
              {% endif %}
            </span>
          </div>
          <h3 class="font-serif font-bold text-2xl text-solar-bg mb-3 leading-tight group-hover:text-dale-pink transition-colors">
            {{ post.data.title }}
          </h3>
          <p class="font-sans text-slate-500 mb-5 text-sm leading-relaxed line-clamp-3">
            {{ post.data.description | default(post.templateContent) | striptags | truncate(150) }}
          </p>
          <div class="flex items-center justify-between border-t border-slate-100 pt-4 mt-auto">
            <div class="font-mono text-xs text-slate-400">
                {{ post.date | postDate }}
            </div>
             <div class="font-mono text-xs font-semibold text-solar-cyan bg-solar-cyan/10 px-2 py-1 rounded">
                Read
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}

  </div>

  {% if pagination.pages.size > 1 %}
  <div class="mt-12 flex justify-center gap-4">
    {% if pagination.href.previous %}
    <a href="{{ pagination.href.previous }}" class="px-4 py-2 bg-white border border-slate-200 rounded-lg text-slate-500 hover:border-dale-pink hover:text-dale-pink transition-colors font-mono text-sm uppercase tracking-widest">
      &larr; Previous
    </a>
    {% endif %}

    {% if pagination.href.next %}
    <a href="{{ pagination.href.next }}" class="px-4 py-2 bg-white border border-slate-200 rounded-lg text-slate-500 hover:border-dale-pink hover:text-dale-pink transition-colors font-mono text-sm uppercase tracking-widest">
      Next &rarr;
    </a>
    {% endif %}
  </div>
  {% endif %}
</section>
