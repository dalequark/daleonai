<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      {% if title %}{{ title | escape }}{% else %}{{ site.title |
      escape }}{% endif %}
    </title>
    <meta
      name="description"
      content="{{ description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}"
    />
    <link
      rel="canonical"
      href="{{ page.url | replace:'index.html', '' }}"
    />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="{{ site.title | escape }} Feed"
      href="/feed.xml"
    />
    {% if site.favicon and site.favicon != "" %}
    <link
      rel="shortcut icon"
      href="/{{ site.favicon }}"
      type="image/png"
    />
    {% endif %}

    <!-- Google Tags Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-K2CZJWL");
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              serif: ['Newsreader', 'serif'],
              mono: ['Source Code Pro', 'monospace'],
              sans: ['Inter', 'sans-serif'],
            },
            colors: {
              'solar-bg': '#2E3440',      /* Nord Polar Night */
              'solar-text': '#D8DEE9',    /* Nord Snow Storm */
              'solar-green': '#A3BE8C',   /* Nord Green */
              'solar-cyan': '#88C0D0',    /* Nord Cyan */
              'dale-pink': '#B48EAD',     /* Nord Purple/Pink - nice pastel */
              'dale-bg': '#F0F4F8',       /* Very light blue-grey pastel background */
              'pastel-purple': '#Cba6f7',
              'pastel-blue': '#89b4fa',
              'pastel-yellow': '#f9e2af',
            },
            animation: {
              'cursor-blink': 'blink 1.2s step-end infinite',
            },
            keyframes: {
              blink: {
                '0%, 100%': { opacity: '1' },
                '50%': { opacity: '0' },
              }
            }
          }
        }
      }
    </script>
    <style>
      body {
        background-color: #F0F4F8;
      }
      /* Hide scrollbar for clean horizontal scrolling if needed */
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>
  </head>
  <body class="min-h-screen flex flex-col font-sans text-slate-800">
      <!-- Google Tag Manager (noscript) -->
      <noscript
        ><iframe
          src="https://www.googletagmanager.com/ns.html?id=GTM-K2CZJWL"
          height="0"
          width="0"
          style="display: none; visibility: hidden"
        ></iframe
      ></noscript>
      <!-- End Google Tag Manager (noscript) -->

      {% include "header.html" %}
      <main class="flex-grow w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        {{ content }}
      </main>
      {% include "footer.html" %}

      {% if site.google_analytics %} {% include "google_analytics.html" %} {% endif %}
  </body>
</html>
